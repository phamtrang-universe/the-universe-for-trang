:root {
    --bg-color: #050510;       /* Đen sâu (Deep Space) */
    --text-gold: #e0c097;      /* Vàng kim sang trọng (Gold Luxury) */
    --text-white: #f0f8ff;     /* Trắng sứ */
    --accent-glow: rgba(224, 192, 151, 0.3); /* Glow vàng nhẹ */
    --input-line: rgba(255, 255, 255, 0.2);
    --error-red: #ff6b6b;
}

/* Reset cơ bản & Tối ưu Font chữ */
* { margin: 0; padding: 0; box-sizing: border-box; -webkit-tap-highlight-color: transparent; }

body, html {
    width: 100%;
    height: 100%;
    background-color: var(--bg-color);
    overflow: hidden;
    font-family: 'Inter', sans-serif;
    /* Làm mượt font chữ trên iPhone */
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
}

/* =========================================
   1. ANIMATIONS (HIỆU ỨNG CHUYỂN ĐỘNG)
   ========================================= */
@keyframes fadeInUp {
    from {
        opacity: 0;
        transform: translateY(20px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

@keyframes pulseGlow {
    0%, 100% { box-shadow: 0 0 10px rgba(224, 192, 151, 0.1); }
    50% { box-shadow: 0 0 20px rgba(224, 192, 151, 0.4); }
}

/* =========================================
   2. MÀN HÌNH NHẬP MẬT MÃ (THE GATE)
   ========================================= */
#gate-screen {
    position: fixed;
    inset: 0;
    z-index: 100;
    /* Gradient tỏa từ tâm tạo chiều sâu */
    background: radial-gradient(circle at center, #151525 0%, #000000 90%);
    display: flex;
    justify-content: center;
    align-items: center;
    transition: opacity 1.2s cubic-bezier(0.4, 0, 0.2, 1);
}

#gate-screen.fade-out {
    opacity: 0;
    pointer-events: none;
}

.gate-content {
    text-align: center;
    width: 85%;
    max-width: 340px;
    animation: fadeInUp 1s ease-out; /* Hiệu ứng trôi lên */
}

.gate-title {
    font-family: 'Cinzel Decorative', serif;
    font-size: 2rem;
    color: var(--text-gold);
    letter-spacing: 4px;
    margin-bottom: 8px;
    text-transform: uppercase;
    text-shadow: 0 0 15px var(--accent-glow);
}

.gate-subtitle {
    font-family: 'Inter', sans-serif;
    font-size: 0.85rem;
    color: rgba(255, 255, 255, 0.5);
    margin-bottom: 40px;
    text-transform: uppercase;
    letter-spacing: 3px;
    font-weight: 300;
}

/* Ô nhập liệu Cao cấp */
.input-group {
    position: relative;
    margin-bottom: 40px;
    width: 100%;
    display: flex;
    justify-content: center;
}

#pass-input {
    width: 200px;
    background: transparent;
    border: none;
    border-bottom: 1px solid var(--input-line);
    color: #fff;
    font-family: 'Cinzel Decorative', serif;
    font-size: 1.8rem;
    text-align: center;
    letter-spacing: 12px; /* Giãn số ra cho đẹp */
    padding: 10px;
    outline: none;
    transition: all 0.3s ease;
}

#pass-input:focus {
    border-bottom: 1px solid var(--text-gold);
    text-shadow: 0 0 10px var(--accent-glow);
}

#unlock-btn {
    background: transparent;
    border: 1px solid rgba(255, 255, 255, 0.3);
    padding: 14px 45px;
    color: var(--text-white);
    font-family: 'Inter', sans-serif;
    font-size: 0.8rem;
    letter-spacing: 3px;
    text-transform: uppercase;
    cursor: pointer;
    transition: all 0.4s ease;
    border-radius: 2px;
}

#unlock-btn:active {
    background: rgba(255, 255, 255, 0.1);
    transform: scale(0.98);
}

#error-msg {
    color: var(--error-red);
    font-family: 'Inter', sans-serif;
    font-size: 0.8rem;
    margin-top: 20px;
    letter-spacing: 1px;
    opacity: 0;
    transition: opacity 0.3s;
    height: 20px; /* Giữ chỗ để không bị nhảy layout */
}
#error-msg.visible { opacity: 1; }

/* =========================================
   3. MÀN HÌNH MỞ ĐẦU (SPLIT LAYOUT)
   ========================================= */
#opening-screen {
    position: fixed;
    inset: 0;
    z-index: 50;
    background: var(--bg-color);
    display: flex;
    flex-direction: column;
    opacity: 0; /* Mặc định ẩn để chờ JS kích hoạt fade-in */
    transition: opacity 2s ease;
}

#opening-screen.visible {
    opacity: 1;
}

#opening-screen.hidden {
    opacity: 0;
    pointer-events: none;
}

/* --- KHU VỰC CHỮ (35% Trên) --- */
#top-text-area {
    height: 35%;
    width: 100%;
    display: flex;
    flex-direction: column;
    justify-content: flex-end; /* Nằm sát đáy khu vực trên */
    align-items: center;
    padding-bottom: 10px;
    z-index: 10;
    /* Gradient nhẹ để hòa trộn với phần dưới */
    background: linear-gradient(to bottom, #050510 0%, #0a0a1a 100%);
}

#opening-title {
    font-family: 'Parisienne', cursive;
    font-size: clamp(2.8rem, 9vw, 4rem); /* Tự chỉnh cỡ chữ theo màn hình */
    color: var(--text-gold);
    text-shadow: 0 0 20px rgba(224, 192, 151, 0.3);
    margin-bottom: 5px;
    font-weight: 400;
    opacity: 0;
    animation: fadeInUp 1.5s ease forwards 0.5s; /* Delay 0.5s mới hiện */
}

#opening-subtitle {
    font-family: 'Inter', sans-serif;
    font-size: 0.85rem;
    color: rgba(255, 255, 255, 0.7);
    text-align: center;
    max-width: 80%;
    line-height: 1.5;
    letter-spacing: 0.5px;
    opacity: 0;
    animation: fadeInUp 1.5s ease forwards 1s; /* Delay 1s mới hiện */
}

/* --- KHU VỰC VẼ (65% Dưới) --- */
#bottom-canvas-area {
    height: 65%;
    width: 100%;
    position: relative;
    /* Background hòa trộn mượt mà */
    background: radial-gradient(circle at center 30%, #120e1f 0%, #050510 70%);
}

#intro-canvas {
    width: 100%;
    height: 100%;
    display: block;
}

/* =========================================
   4. MÀN HÌNH HÀNH TRÌNH CHÍNH (THE JOURNEY)
   ========================================= */
#main-journey {
    position: fixed;
    inset: 0;
    z-index: 10;
    opacity: 0;
    transition: opacity 2.5s ease; /* Chuyển cảnh chậm rãi */
    background: #000;
}

#main-journey.visible {
    opacity: 1;
}

#main-canvas {
    position: fixed;
    inset: 0;
}
